<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    
    <!-- Inherit Form view -->
    <record id="res_partner_form_inherit_cr" model="ir.ui.view">
        <field name="name">res.partner.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="priority">98</field>
        <field name="active">True</field>
        <field name="arch" type="xml">
            
            <xpath expr="//field[@name='country_id']" position="attributes">
                <attribute name="invisible" separator=" ">True</attribute>
                <attribute name="readonly" separator=" ">"type == 'contact' and parent_id != False"</attribute>
                <!--
                <attribute name="attrs">{
                    "readonly": [["type","=","contact"],["parent_id","!=",False]],
                    "invisible": True }
                </attribute>
                -->
            </xpath>
            
            
            <!--
            <field name="state_id" class="o_address_state" placeholder="State" options="{'no_open': True, 'no_quick_create': True}" readonly="type == 'contact' and parent_id" context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"/>

            -->
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/div[1]/field[@name='state_id']" position="attributes">
                <attribute name="invisible" separator=" ">"country_id_code == 'CR'"</attribute>
                <attribute name="readonly" separator=" ">"type == 'contact' and parent_id != False"</attribute>
                <attribute name="placeholder" separator=" ">Provincia</attribute>
                <!--
                <attribute name="attrs">{
                    "readonly": [["type","=","contact"], ["parent_id","!=",False]],
                    "invisible": [["country_id_code","=","CR"]] }
                </attribute>
                <attribute name="placeholder">Provincia</attribute>
                -->
            </xpath>

            
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/div[1]/field[@name='city']" position="attributes">
                <attribute name="invisible" separator=" ">"country_id_code == 'CR'"</attribute>
                <attribute name="readonly" separator=" ">"type == 'contact' and parent_id != False"</attribute>
                <!--
                <attribute name="attrs">{
                    "readonly": [["type","=","contact"],["parent_id","!=",False]],
                    "invisible": [["country_id_code","=","CR"]] }
                </attribute>
                -->
            </xpath>

            
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/div[1]/field[@name='zip']" position="attributes">
                <attribute name="invisible" separator=" ">"country_id_code == 'CR'"</attribute>
                <attribute name="readonly" separator=" ">"type == 'contact' and parent_id != False"</attribute>
                <!--
                <attribute name="attrs">{
                    "readonly": [["type","=","contact"],["parent_id","!=",False]],
                    "invisible": [["country_id_code","=","CR"]] }
                </attribute>
                -->
            </xpath>
            
              
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/div[1]/field[@name='street']" position="attributes">
                <attribute name="placeholder" separator=" ">Otras señas</attribute>
            </xpath>
            
            
            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/div[1]/field[@name='street2']" position="attributes">
                <attribute name="placeholder">Otras señas2</attribute>
            </xpath>
             
            
            <field name="street" position="before">
    
                <field name="country_id" string="País"
                       options="{'no_create': True, 'no_create_edit': True}"
                       placeholder="Country Code"/>
                <field name="country_id_code" invisible="1" />     
                <br invisible="country_id_code != 'CR'" />
                
                <field name="state_id" string="Provincia" placeholder="Provincia"
                    
                    domain="[('country_id', '=',country_id)]"
                    options="{'no_create': True, 'no_create_edit': True}"
                    invisible="country_id_code != 'CR'" />
                    <!-- attrs="{'invisible':[('country_id_code', '!=', 'CR') ]}" /> -->
                <br invisible="state_id == False" />  
                <!-- <br attrs="{'invisible':[('state_id', '=', False) ]}"/> -->
                
                
                <field name="canton_id" string="Canton" placeholder="Canton" domain="[('state_id', '=',state_id)]"
                    options="{'no_create': True, 'no_create_edit': True, 'no_open': True}"
                    invisible="state_id == False" />
                
                <!-- <span attrs="{'invisible':[('canton_id_comments', '=', False) ]}"> - </span> -->
                <span invisible="canton_id_comments == False"> - </span>
                
                
                <field name="canton_id_comments"
                    options="{'no_create': True, 'no_create_edit': True, 'no_open': True}"
                    invisible="country_id_code != 'CR' and canton_id_comments == False"  
                />
                    <!-- attrs="{'invisible': [ '&amp;', ['country_id_code','!=','CR'], ['canton_id_comments', '=', False] ]}" -->
                <!--<br attrs="{'invisible':[('canton_id', '=', False) ]}"/>-->
                <br invisible="canton_id == False"/>
               
                
                <field name="distrito_id" string="Distrito" placeholder="Distrito" domain="[('canton_id', '=',canton_id)]" 
                    options="{'no_create': True, 'no_create_edit': True, 'no_open': True}"
                    invisible="canton_id == False" />
                    <!-- attrs="{'invisible':[('canton_id', '=', False) ]}" /> -->
                
                <!-- <span attrs="{'invisible':[('distrito_id_comments', '=', False) ]}"> - </span> -->
                <span invisible="distrito_id == False" > - </span>
                
                
                <field name="distrito_id_comments"
                    options="{'no_create': True, 'no_create_edit': True, 'no_open': True}"
                    invisible="distrito_id == False"
                    />
                    <!-- attrs="{'invisible': [ '&amp;', ['distrito_id','=',False], ['distrito_id_comments', '=', False] ]}" -->
                <!-- <br attrs="{'invisible':[('distrito_id', '=', False) ]}"/> -->
                <br invisible="distrito_id == False"/>

                
                <field name="barrio_id" string="Barrio" placeholder="Barrio" domain="[('distrito_id', '=',distrito_id)]"
                    options="{'no_create': True, 'no_create_edit': True, 'no_open': True}"
                    invisible="distrito_id == False" />
                    <!-- attrs="{'invisible':[('distrito_id', '=', False) ]}" /> -->
                
                <!--
                <span attrs="{'invisible':[('barrio_id_comments', '=', False) ]}"> - </span>
                -->
                <span invisible="barrio_id_comments == False"> - </span>
                <field name="barrio_id_comments"
                    options="{'no_create': True, 'no_create_edit': True, 'no_open': True}"
                    invisible="barrio_id == False and distrito_id_comments == False"  />
                    <!-- attrs="{'invisible': [ '&amp;', ['barrio_id','=',False], ['distrito_id_comments', '=', False] ]}" /> -->
                
            </field>
            
      </field>
    </record>

    <record model="ir.ui.view" id="res_partner_search_customization">
        <field name="name">res.partner.search.customization</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="active">True</field>
        <field name="priority">98</field>
        <field name="arch" type="xml">
            <data>
                <xpath expr="//filter[@name='group_country']" position="after">
                    <filter context="{'group_by': 'state_id'}" name="state_id" string="State"/>
                    <filter context="{'group_by': 'canton_id'}" name="canton_id" string="Canton"/>
                    <filter context="{'group_by': 'distrito_id'}" name="distrito_id" string="Distrito"/>
                    <filter context="{'group_by': 'barrio_id'}" name="barrio_id" string="Barrio"/>
                </xpath>
            </data>
        </field>
    </record>
    
</odoo>

